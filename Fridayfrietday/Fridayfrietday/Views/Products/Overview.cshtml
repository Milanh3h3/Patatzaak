@model IEnumerable<Fridayfrietday.Models.Product>

@{
    ViewData["Title"] = "Producten Overzicht";
}

<!-- Pagina Header Start -->
<div class="container-fluid image page-header mb-5 wow fadeIn" data-wow-delay="0.1s">
    <div class="container">
        <h1 class="display-3 mb-3 animated slideInDown">Producten</h1>
        <nav aria-label="breadcrumb animated slideInDown">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a class="text-body" href="/Home">Startpagina</a></li>
                <li class="breadcrumb-item"><a class="text-body" href="/Products/Index">Producten</a></li>
                <li class="breadcrumb-item text-dark active" aria-current="page">Overzicht</li>
            </ol>
        </nav>
    </div>
</div>
<!-- Pagina Header Einde -->

<div class="d-flex justify-content-between align-items-center">
    <p class="mb-0">
        <a asp-action="Create" class="btn btn-primary">Nieuw Product Toevoegen</a>
    </p>
    <div class="text-end">
        <a class="btn btn-secondary btn-lg" href="/Home/Admin">Terug naar Admin pagina</a>
    </div>
</div>

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>Productnaam</th>
            <th>Categorie</th>
            <th>Prijs</th>
            <th>Toegestane Sauzen</th>
            <th>Afbeelding</th>
            <th>Acties</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var product in Model)
        {
            <tr>
                <td>@product.Name</td>
                <td>@product.Category?.Name</td>
                <td>
                    @if (product.Discount == 0)
                    {
                        <span class="text-primary me-1">€ @product.Price.ToString("0.00")</span>
                    }
                    else
                    {
                        <span class="text-primary me-1"><del>€ @product.Price.ToString("0.00")</del></span> <!--doorgestreept-->
                        <span class="text-primary me-1">€ @((product.Price * (1 - product.Discount)).ToString("0.00"))</span>
                    }
                </td>
                <td>@(product.AllowsSauces ? "Ja" : "Nee")</td>
                <td>
                    @if (!string.IsNullOrEmpty(product.ImageLink))
                    {
                        <img src="/Images/@product.ImageLink" alt="Productafbeelding" style="max-width:100px;" />
                    }
                </td>
                <td>
                    <a asp-action="Edit" asp-route-id="@product.Id" class="btn btn-warning">Aanpassen</a>
                    <a asp-action="Delete" asp-route-id="@product.Id" class="btn btn-danger">Verwijderen</a>
                </td>
            </tr>
        }
    </tbody>
</table>

<!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/lib/wow/wow.min.js"></script>
<script src="~/lib/easing/easing.min.js"></script>
<script src="~/lib/waypoints/waypoints.min.js"></script>
<script src="~/lib/owlcarousel/owl.carousel.min.js"></script>
<script src="~/js/Product.js"></script>
<script src="~/js/main.js"></script>
